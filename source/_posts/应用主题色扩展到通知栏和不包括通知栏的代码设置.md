---
title: 应用主题色扩展到通知栏和不包括通知栏的代码设置
tags:  设计
grammar_cjkRuby: true
categories: Designed
---

**对比图：如图中画圈圈的部分对比**
![enter description here][1]![enter description here][2]
<!--more-->
#### **定义**
定义一个应用中所有窗口Activity的基类BaseActivity，在其中onCreate方法中运行以下的方法
#### **代码如下：**
  // TODO:适配4.4<=sdk<5.0
@TargetApi(Build.VERSION_CODES.KITKAT)
protected void setStatusBarTranslucent() {
    if ((Build.VERSION.SDK_INT < Build.VERSION_CODES.LOLLIPOP)
            &&(Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT)
            &&!(this instanceof SplashActivity)) {
        getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);
        SystemBarTintManager tintManager = new SystemBarTintManager(this);
        tintManager.setStatusBarTintEnabled(true);
        tintManager.setStatusBarTintResource(R.color.background_main);
    }
}
#### **自己练手的例子：**
   - **导入依赖：compile 'com.readystatesoftware.systembartint:systembartint:1.0.3'**
   
  - **代码如下：**：
  public class BaseActvity extends AppCompatActivity{
    @Override
    protected void onCreate(@Nullable Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setStatusBarTranslucent();
    }
    private void setStatusBarTranslucent(){
        getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);
        SystemBarTintManager tintManager = new SystemBarTintManager(this);
        tintManager.setStatusBarTintEnabled(true);
        tintManager.setStatusBarTintResource(R.color.background_main);//设置延伸到通知栏的主题颜色
        setContentView(R.layout.activity_main);
    }
}
新建一个空白的窗口Activity继承基类BaseActivity即可
public class MainActivity extends BaseActvity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
    }
}


#### **效果如下：**
  ![enter description here][3]


（完）


  [1]: ./images/%E5%BA%94%E7%94%A8%E4%B8%BB%E9%A2%98%E8%89%B2%E6%89%A9%E5%B1%95%E5%88%B0%E9%80%9A%E7%9F%A5%E6%A0%8F%E5%92%8C%E4%B8%8D%E5%8C%85%E6%8B%AC%E9%80%9A%E7%9F%A5%E6%A0%8F%E7%9A%84%E4%BB%A3%E7%A0%81%E8%AE%BE%E7%BD%AE01.jpg "应用主题色扩展到通知栏和不包括通知栏的代码设置01"
  [2]: ./images/%E5%BA%94%E7%94%A8%E4%B8%BB%E9%A2%98%E8%89%B2%E6%89%A9%E5%B1%95%E5%88%B0%E9%80%9A%E7%9F%A5%E6%A0%8F%E5%92%8C%E4%B8%8D%E5%8C%85%E6%8B%AC%E9%80%9A%E7%9F%A5%E6%A0%8F%E7%9A%84%E4%BB%A3%E7%A0%81%E8%AE%BE%E7%BD%AE02.jpg "应用主题色扩展到通知栏和不包括通知栏的代码设置02"
  [3]: ./images/%E5%BA%94%E7%94%A8%E4%B8%BB%E9%A2%98%E8%89%B2%E6%89%A9%E5%B1%95%E5%88%B0%E9%80%9A%E7%9F%A5%E6%A0%8F%E5%92%8C%E4%B8%8D%E5%8C%85%E6%8B%AC%E9%80%9A%E7%9F%A5%E6%A0%8F%E7%9A%84%E4%BB%A3%E7%A0%81%E8%AE%BE%E7%BD%AE03_1.jpg "应用主题色扩展到通知栏和不包括通知栏的代码设置03"